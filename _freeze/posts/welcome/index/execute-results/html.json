{
  "hash": "f535349538d3c083c6f6ee61c6c3db5d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Global Cheese Analysis: Fat Content and Characteristics\"\nauthor: \"Shu Wang\"\ndate: \"2024-09-29\"\nformat:\n  html:\n    toc: true\n    toc-depth: 2\n---\n\n\n\n## Executive Summary\n\nThis blog explores data sourced from Cheese.com to analyze how fat content, texture, flavor, and aroma vary among cheeses from different countries. The analysis reveals that European cheeses, such as those from France, Germany, and the United Kingdom, tend to have higher fat content, contributing to their rich textures and aromas. These insights provide useful information for cheese producers aiming to optimize their products based on consumer preferences in various markets.\n\n## Problem Description\n\nCheese is a globally popular food, known for its diversity in flavor, texture, and nutritional composition. This analysis focuses on how the fat content of cheese varies by country, and how this affects characteristics like texture and flavor. Understanding these patterns can help cheese producers tailor their products to consumer tastes in different regions.\n\n## Data Description\n\nWe utilized data from Cheese.com, which includes information on the fat content, texture, flavor, and aroma of cheeses from various countries. The dataset consists of several variables that describe cheese properties such as fat content, country of origin, and type of milk used.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the cheese data from GitHub\ncheeses <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-06-04/cheeses.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 1187 Columns: 19\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (17): cheese, url, milk, country, region, family, type, fat_content, cal...\nlgl  (2): vegetarian, vegan\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\n# Display the first few rows of the dataset\nhead(cheeses)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 19\n  cheese     url   milk  country region family type  fat_content calcium_content\n  <chr>      <chr> <chr> <chr>   <chr>  <chr>  <chr> <chr>       <chr>          \n1 Aarewasser http… cow   Switze… <NA>   <NA>   semi… <NA>        <NA>           \n2 Abbaye de… http… sheep France  Pays … <NA>   semi… <NA>        <NA>           \n3 Abbaye de… http… cow   France  <NA>   <NA>   semi… 40-46%      <NA>           \n4 Abbaye de… http… cow   France  Burgu… <NA>   semi… <NA>        <NA>           \n5 Abbaye de… http… cow   France  Savoie <NA>   soft… <NA>        <NA>           \n6 Abbaye de… http… cow   France  provi… <NA>   semi… <NA>        <NA>           \n# ℹ 10 more variables: texture <chr>, rind <chr>, color <chr>, flavor <chr>,\n#   aroma <chr>, vegetarian <lgl>, vegan <lgl>, synonyms <chr>,\n#   alt_spellings <chr>, producers <chr>\n```\n\n\n:::\n:::\n\n\n\n## Data Cleaning and Preparation\n\nThe data contains some missing values and non-numeric fat content entries. We clean the dataset by filtering out cheeses with missing fat content and converting the fat content to numeric values where applicable.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary libraries\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'ggplot2' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tidyr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'readr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'dplyr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'stringr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(stringr)\n\n# Clean the cheese data\ncheese_data_clean <- cheeses %>%\n  filter(!is.na(fat_content)) %>%\n  mutate(\n    fat_content = as.numeric(str_extract(fat_content, \"\\\\d+\")),\n    country = ifelse(is.na(country), \"Unknown\", country)\n  )\n\n# Display cleaned data\nhead(cheese_data_clean)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 19\n  cheese     url   milk  country region family type  fat_content calcium_content\n  <chr>      <chr> <chr> <chr>   <chr>  <chr>  <chr>       <dbl> <chr>          \n1 Abbaye de… http… cow   France  <NA>   <NA>   semi…          40 <NA>           \n2 Abbaye du… http… cow   France  Nord-… <NA>   semi…          50 <NA>           \n3 Abertam    http… sheep Czech … Karlo… <NA>   hard…          45 <NA>           \n4 Acorn      http… sheep United… Betha… <NA>   hard…          52 <NA>           \n5 Adelost    http… cow   Sweden  <NA>   Blue   semi…          50 <NA>           \n6 ADL Brick… http… cow   Canada  Princ… Chedd… semi…          12 <NA>           \n# ℹ 10 more variables: texture <chr>, rind <chr>, color <chr>, flavor <chr>,\n#   aroma <chr>, vegetarian <lgl>, vegan <lgl>, synonyms <chr>,\n#   alt_spellings <chr>, producers <chr>\n```\n\n\n:::\n:::\n\n\n\n## Analysis\n\n### Fat Content by Country\n\nWe first calculate the average fat content of cheeses by country to explore how fat content varies geographically. This provides insights into regional cheese-making practices.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate average fat content by country\navg_fat_by_country <- cheese_data_clean %>%\n  group_by(country) %>%\n  summarize(avg_fat_content = mean(fat_content, na.rm = TRUE)) %>%\n  arrange(desc(avg_fat_content))\n\n# Display the top 10 countries with the highest average fat content\nknitr::kable(head(avg_fat_by_country, 10), col.names = c(\"Country\", \"Average Fat Content (%)\"))\n```\n\n::: {.cell-output-display}\n\n\n|Country               | Average Fat Content (%)|\n|:---------------------|-----------------------:|\n|United Kingdom        |                52.00000|\n|Austria, Germany      |                50.00000|\n|Croatia               |                50.00000|\n|Hungary               |                50.00000|\n|Lithuania             |                50.00000|\n|England               |                48.80000|\n|Switzerland           |                48.33333|\n|United Kingdom, Wales |                48.00000|\n|Germany               |                47.00000|\n|Scotland              |                46.50000|\n\n\n:::\n:::\n\n\n\n### Visualization: Average Fat Content by Country\n\nWe visualize the average fat content of cheeses by country in a bar chart to highlight the differences across regions.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Figure 1: Average Fat Content of Cheeses by Country](index_files/figure-html/plot-results-country-1.png){width=672}\n:::\n:::\n\n\n\n### Fat Content by Texture\n\nWe now examine the relationship between cheese texture and fat content by calculating the average fat content for different cheese textures. This analysis helps to understand whether certain textures are associated with higher or lower fat levels.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate average fat content by texture\navg_fat_by_texture <- cheese_data_clean %>%\n  filter(!is.na(texture)) %>%\n  group_by(texture) %>%\n  summarize(avg_fat_content = mean(fat_content, na.rm = TRUE)) %>%\n  arrange(desc(avg_fat_content))\n\n# Display the top 10 textures with the highest average fat content\nknitr::kable(head(avg_fat_by_texture, 10), col.names = c(\"Texture\", \"Average Fat Content (%)\"))\n```\n\n::: {.cell-output-display}\n\n\n|Texture                             | Average Fat Content (%)|\n|:-----------------------------------|-----------------------:|\n|creamy, dense                       |                    62.5|\n|crumbly, firm, open                 |                    62.0|\n|creamy, crumbly, spreadable         |                    60.0|\n|creamy, smooth, spreadable          |                    55.0|\n|crumbly, dense, firm, flaky, smooth |                    54.0|\n|soft                                |                    54.0|\n|compact, creamy                     |                    50.0|\n|compact, crumbly, firm, open        |                    50.0|\n|creamy, dense, firm                 |                    50.0|\n|creamy, grainy, open                |                    50.0|\n\n\n:::\n:::\n\n\n\n### Visualization: Fat Content by Texture\n\nWe plot the average fat content by texture, limiting the chart to the top 10 textures for clarity. We also wrap long texture names and rotate the x-axis labels to improve readability.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Figure 2: Average Fat Content of Cheeses by Texture](index_files/figure-html/plot-results-texture-1.png){width=672}\n:::\n:::\n\n\n\n## Key Results\n\n- **Fat Content by Country**: European countries like France, Germany, and the United Kingdom have the highest average fat content in their cheeses. This reflects traditional cheese-making practices that emphasize richness and creaminess.\n- **Fat Content by Texture**: Cheeses with creamier textures, such as \"Creamy\" and \"Soft,\" tend to have higher fat content, while firmer cheeses exhibit lower fat levels.\n\n## Conclusion\n\nThis analysis revealed important relationships between cheese fat content, texture, and country of origin. European cheeses, particularly from France and Germany, are characterized by higher fat content, which contributes to their rich textures. These insights can guide cheese producers in refining their products to better meet consumer demands in different regions, with specific attention to texture and fat content.\n\n## References\n\n- Cheese.com (2024). *Global Cheese Information*. Retrieved from [Cheese.com](https://www.cheese.com/).\n- TidyTuesday (2024). *Cheese Dataset*. Retrieved from [GitHub](https://github.com/rfordatascience/tidytuesday/tree/master/data/2024/2024-06-04).\n\n```\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}